<!DOCTYPE html>
<html>

<head>
  <title>HĐ Shop</title>
  <meta charset="utf-8">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <link rel="stylesheet" type="text/css" href="styles/bootstrap4/bootstrap.min.css">
  <link href="plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="plugins/OwlCarousel2-2.2.1/owl.carousel.css">
  <link rel="stylesheet" type="text/css" href="plugins/OwlCarousel2-2.2.1/owl.theme.default.css">
  <link rel="stylesheet" type="text/css" href="plugins/OwlCarousel2-2.2.1/animate.css">
  <link rel="stylesheet" type="text/css" href="styles/main_styles.css">
  <link rel="stylesheet" type="text/css" href="styles/responsive.css">
  <link rel="stylesheet" type="text/css" href="styles/single_styles.css">
  <link rel="stylesheet" type="text/css" href="styles/single_responsive.css">
</head>

<body>
  <script src="MainController.js"></script>

  <div id="super_container" ng-app="myApp" ng-controller="MainController">

    <!-- Header -->

    <div class=" trans_300">
      <!-- Main Navigation -->

      <div class="main_nav_container">
        <div class="container">
          <div class="row">
            <div class="col-lg-12 text-right">
              <div class="logo_container">
                <a href="" ng-click="back()">{{name}}<span>shop</span></a>
              </div>
              <nav class="navbar">
                <ul class="navbar_user">
                  <li><a ng-if="accessKey" ng-click="gotoInfor()" href=""><i class="fa fa-user"
                        aria-hidden="true"></i></a></li>
                  <li class="checkout">
                    <a ng-if="accessKey" ng-click="gotoCart()" href="">
                      <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                      <span id="checkout_items" class="checkout_items">{{quantityCart}}</span>
                    </a>
                  </li>
                  <li><a ng-if="accessKey" ng-click="singOut()" href=""><i class="fa fa-power-off"
                        aria-hidden="true"></i></a></li>

                </ul>
                <div class="hamburger_container">
                  <i class="fa fa-bars" aria-hidden="true"></i>
                </div>
              </nav>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- Control Page -->

    <div style="display:{{displayLoading}}">
      <div id="loading">
        <img id="loading-image" src="styles/showloading.gif" alt="Loading..." />
      </div>
    </div>
    <!-- Login Page -->
    <div style="display:{{displayLogin}}">
      <div id="hoang">
        <div id="login-wrap">
          <form class="form">
            <input type="text" ng-model="userName" placeholder="email" required />
            <input type="password" ng-model="passWord" placeholder="password" required />
            <button ng-click="Login()" entered>Login</button>
            <p class="message">Not registered? <a ng-click="gotoRegister()" style="color:coral" href="#">Create an account</a></p>
          </form>
        </div>
      </div>
    </div>

    <!-- Register Page -->
    <div style="display:{{displayRegister}}">
      <form action="">
        <div class="container">
          <h1>Đăng Ký</h1>
          <p>Xin hãy nhập biểu mẫu bên dưới để đăng ký.</p>
          <hr>

          <label for="email"><b>Email</b></label>
          <input type="text" placeholder="Nhập Email" name="email" required ng-model="emailRegister">

          <label for="user"><b>Username</b></label>
          <input type="text" placeholder="Nhập Username" name="user" required ng-model="userRegister">

          <label for="psw"><b>Mật Khẩu</b></label>
          <input type="password" placeholder="Nhập Mật Khẩu" name="psw" required ng-model="passRegister">

          <label for="psw-repeat"><b>Nhập Lại Mật Khẩu</b></label>
          <input type="password" placeholder="Nhập Lại Mật Khẩu" name="psw-repeat" required
            ng-model="retrypassRegister">

          <div class="clearfix">
            <button type="submit" class="signupbtn" ng-click="signUp()">Sign Up</button>
          </div>
        </div>
      </form>
    </div>

    <!-- Infor Page -->
    <div style="display:{{displayInfor}}">
      <form action="">
        <div class="container">
          <h1>Thông tin cá nhân</h1>
          <hr>

          <label for="email"><b>Email</b></label>
          <input type="text" placeholder="Nhập Email" name="email" required ng-model="userName">

          <label for="user"><b>Username</b></label>
          <input type="text" placeholder="Nhập Username" name="user" required ng-model="userRegister">

          <label for="psw"><b>Mật Khẩu</b></label>
          <input type="password" placeholder="Nhập Mật Khẩu" name="psw" required ng-model="passWord">

          <div class="clearfix">
            <button ng-click="back()">Back</button>
          </div>
        </div>
      </form>
    </div>

    <!-- Main Page -->
    <div style="display:{{displayMainPage}}">

      <div style="margin-top: 30px; display :{{displayMain}}">

        <!-- <div class="input-group rounded" style="margin-left:25%;padding-top: 10px;width:50%;">
          <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search"
            aria-describedby="search-addon" style="width: 200%;height: 40px;margin: 8px 0;" />
          <button class="btn btn-secondary" ng-click="search()"
            style="margin-left: 1px ; width: 100%;height: 40px;margin: 8px 0;">Tìm
            kiếm</button>
        </div> -->
        <div class="new_arrivals">
          <div class="container">
            <div class="row">
              <div class="col text-center">
                <div class="section_title new_arrivals_title">
                  <h2>Sản phẩm</h2>
                </div>
              </div>
            </div>



            <div class="row">
              <div class="col" ng-repeat="product in products">
                <div class="product-grid">
                  <div class="product-item" style="min-width: 100%;max-width:100%">
                    <div class="product discount product_filter">
                      <div class="product_image">
                        <img src={{product.thumbnail_url}} alt="">
                      </div>
                      <div
                        class="product_bubble product_bubble_right product_bubble_red d-flex flex-column align-items-center">
                        <span>-{{product.discount}}</span>
                      </div>
                      <div class="product_info">
                        <h6 class="product_name" ng-click="detail(product.id);">
                          {{product.name}}</h6>
                        <div class="product_price">
                          {{product.price}}<span>{{product.orign_price}}</span></div>
                      </div>
                    </div>
                    <div class="red_button add_to_cart_button"><a href="" ng-click="addtoCart(product.id,1,1)">add to cart</a></div>
                  </div>
                </div>
              </div>
            </div>

            <div class="new_arrivals" ng-if="re">
                <div class="row">
                  <div class="col text-center">
                    <div class="section_title new_arrivals_title">
                      <h2>Có thể bạn quan tâm</h2>
                    </div>
                  </div>
                </div>
    
    
    
                <div class="row">
                  <div class="col" ng-repeat="product in recommends">
                    <div class="product-grid">
                      <div class="product-item" style="min-width: 100%;max-width:100%">
                        <div class="product discount product_filter">
                          <div class="product_image">
                            <img src={{product.thumbnail_url}} alt="">
                          </div>
                          <div class="product_info">
                            <h6 class="product_name" ng-click="detailRe(product.id);">
                              {{product.name}}</h6>
                            <div class="product_price">
                              {{product.price}}</div>
                          </div>
                        </div>
                        <div class="red_button add_to_cart_button"><a href="" ng-click="addtoCart(product.id,1,1)">add to cart</a></div>
                      </div>
                    </div>
                  </div>
              </div>
            </div>

            <div class="row" style="margin-left: 20px;margin-top: 40px;">
              <div class="pagination" ng-repeat="pag in pages">
                <a ng-if="pag!=page" href="" ng-click="changePage(pag)">{{pag}}</a>
                <a ng-if="pag==page" class="active" href="" ng-click="changePage(pag)">{{pag}}</a>
              </div>
            </div>
          </div>
        </div>
      </div>








      <div style="display :{{displayDetail}}">
        <div class="container single_product_container">

          <div class="row">
            <div class="col-lg-7">
              <div class="single_product_pics">
                <div class="row">
                  <div class="col-lg-3 thumbnails_col order-lg-1 order-2">
                    <div class="single_product_thumbnails">
                      <ul ng-repeat="thum in product_detail.information[0].images">
                        <li ng-click="changeImage(thum.small_url)"><img src="{{thum.medium_url}}" alt=""></li>
                      </ul>
                    </div>
                  </div>
                  <div class="col-lg-9 image_col order-lg-2 order-1">
                    <div class="single_product_image">
                      <div class="single_product_image_background" style="background-image:url({{image_main}})">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-5">
              <div class="product_details">
                <div class="product_details_title">
                  <h2>{{product_detail.name}}</h2>
                  <p>{{product_detail.description}}</p>
                </div>
                <div class="free_delivery d-flex flex-row align-items-center justify-content-center">
                  <span class="ti-truck"></span><span>Còn lại: {{product_detail.information[0].review_count}}</span>
                </div>
                <div class="original_price">{{product_detail.original_price}}</div>
                <div class="product_price">{{product_detail.price}}</div>
                <ul class="star_rating">
                  <li>
                    <i ng-if="list_rating[0]==1" class="fa fa-star" aria-hidden="true"></i>
                    <i ng-if="list_rating[0]==0.5" class="fa fa-star-half-o" aria-hidden="true"></i>
                    <i ng-if="list_rating[0]==0" class="fa fa-star-o" aria-hidden="true"></i>
                  </li>
                  <li>
                    <i ng-if="list_rating[1]==1" class="fa fa-star" aria-hidden="true"></i>
                    <i ng-if="list_rating[1]==0.5" class="fa fa-star-half-o" aria-hidden="true"></i>
                    <i ng-if="list_rating[1]==0" class="fa fa-star-o" aria-hidden="true"></i>
                  </li>
                  <li>
                    <i ng-if="list_rating[2]==1" class="fa fa-star" aria-hidden="true"></i>
                    <i ng-if="list_rating[2]==0.5" class="fa fa-star-half-o" aria-hidden="true"></i>
                    <i ng-if="list_rating[2]==0" class="fa fa-star-o" aria-hidden="true"></i>
                  </li>
                  <li>
                    <i ng-if="list_rating[3]==1" class="fa fa-star" aria-hidden="true"></i>
                    <i ng-if="list_rating[3]==0.5" class="fa fa-star-half-o" aria-hidden="true"></i>
                    <i ng-if="list_rating[3]==0" class="fa fa-star-o" aria-hidden="true"></i>
                  </li>
                  <li>
                    <i ng-if="list_rating[4]==1" class="fa fa-star" aria-hidden="true"></i>
                    <i ng-if="list_rating[4]==0.5" class="fa fa-star-half-o" aria-hidden="true"></i>
                    <i ng-if="list_rating[4]==0" class="fa fa-star-o" aria-hidden="true"></i>
                  </li>
                </ul>

                <div class="quantity d-flex flex-column flex-sm-row align-items-sm-center">
                  <span>Quantity:</span>
                  <div class="quantity_selector">
                    <span class="minus"><i class="fa fa-minus" aria-hidden="true" ng-click="minus();"></i></span>
                    <span id="quantity_value">{{quantity}}</span>
                    <span class="plus"><i class="fa fa-plus" aria-hidden="true" ng-click="plus();"></i></span>
                  </div>
                  <button type="button" class="btn btn-danger" style="margin-left: 10px; width:max-content" ng-click="addtoCart(product_detail.id,quantity,0)">Add to
                    cart</button>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
      <div class="row">
        <br />
      </div>

    </div>

    <!--Cart -->
    <div style="display:{{displayCart}}">
      <div class="wrapper">
        <div class="d-flex align-items-center justify-content-between">
          <div class="d-flex flex-column">
            <div class="h3">Giỏ hàng</div>
          </div>
        </div>
        <hr class="items">
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th scope="col" class="text-uppercase">Sản phẩm</th>
                <th scope="col" class="text-uppercase">Số lượng</th>
                <th scope="col" class="text-uppercase">Giá tiền</th>
                <th scope="col" class="text-uppercase">Tổng</th>
              </tr>
            </thead>
            <tbody >
              <tr ng-repeat="item in listCart">
                <td class="item">
                  <div class="d-flex align-items-start"> <img
                      src={{item.image}}
                      alt="">
                    <div> {{item.name}}
                    </div>
                  </div>
                </td>
                <td>{{item.quantity}}</td>
                <td class="d-flex flex-column">{{item.price}} </td>
                <td class="font-weight-bold"> {{item.total}} <div class="close" ng-click="removeItem(item)">&times;</div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="d-flex justify-content-between">
          <div> <button class="btn" type="button"> Thanh toán </button> </div>
          <div class="d-flex flex-column justify-content-end align-items-end">
            <div class="d-flex px-3 pr-md-5 py-1 subtotal">
              <div class="px-4">Tổng cộng</div>
              <div class="h5 font-weight-bold px-md-2">{{total}}</div>
            </div>
          </div>
        </div>
      </div>

    </div>



    <footer class="footer" style="background-color: #C0C0C0">
      <div class="container">
        <div class="row">
          <div class="col-lg-6">
            <div
              class="footer_nav_container d-flex flex-sm-row flex-column align-items-center justify-content-lg-start justify-content-center text-center">
              <ul class="footer_nav">
                <li><a href="#">Blog</a></li>
                <li><a href="#">FAQs</a></li>
                <li><a href="contact.html">Contact us</a></li>
              </ul>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="footer_social d-flex flex-row align-items-center justify-content-lg-end justify-content-center">
              <ul>
                <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-skype" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-12">
            <div class="footer_nav_container">
              <div class="cr">Hệ thống tự động đề suất sản phẩm của nhóm Hoàng Đức</div>
            </div>
          </div>
        </div>
      </div>
    </footer>

</body>

</html>